\documentclass[11pt, a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{lmodern}
\usepackage{hyperref}
\usepackage[left=2.5cm,right=2.5cm,top=2.5cm,bottom=2.5cm]{geometry}
\usepackage{listings}
\lstset{breaklines=true}

%watermark
%\usepackage{draftwatermark}
%\SetWatermarkText{Preliminary}
%\SetWatermarkLightness{0.9}
%\SetWatermarkScale{1}

\lstdefinelanguage[markII]{Assembler}
{
    alsoletter={.\#},
    morekeywords={[1]RET, RETI, CALLI, PUSH, POP, LDI, STI, BZI, BNZI, MOV, CMP, AND, OR, XOR, ADD, SUB, INC, DEC, LSL, LSR, ROL, ROR, MVIL, MVIH, CALL, LD, ST, BZ, BNZ, MVIA},
    morekeywords={[2]\#define, \#ifdef, \#ifndef, \#endif, \#include, \#macro, \#endmacro, .CONS, .ORG, .DAT, .DS, .EXPORT, .IMPORT, .MVI},
    morekeywords={[3]R0, R1, R2, R3, R4, R5, R6, R7, R8, R9, R10, R11, R12, R13, R14, R15, SP, PC},
    morekeywords={[4]EQ, NEQ, L, LU, GE, GEU},
    sensitive=false,
    morecomment=[l]{;},
}[comments,keywords]

\author{Vladislav Mlejnecký}
\title{\huge MARK-II Reference Manual}

\begin{document}

\pagenumbering{gobble}
\maketitle
\vfill
\begin{figure}[h]
\centering
\begin{minipage}{.06\textwidth}
  \centering
  \includegraphics[width=.9\linewidth]{img/lic/cc.png}
\end{minipage}
\begin{minipage}{.06\textwidth}
  \centering
  \includegraphics[width=.9\linewidth]{img/lic/by.png}
\end{minipage}
\begin{minipage}{.06\textwidth}
  \centering
  \includegraphics[width=.9\linewidth]{img/lic/nc.png}
\end{minipage}
\end{figure}
\begin{flushleft}
    \copyright  2017 Vladislav Mlejnecký - v.mlejnecky@seznam.cz.
    This work is licensed under the Creative Commons Attribution-NonCommercial 4.0 International License.
    To view a copy of this license, visit \url{http://creativecommons.org/licenses/by-nc/4.0/}
\end{flushleft}
\newpage
\pagenumbering{roman}
\tableofcontents
\newpage
\listoffigures
\newpage
\listoftables
\newpage
\pagenumbering{arabic}

\include{tex/introduction/introduction}

\include{tex/system_overview/system_overview}
\include{tex/system_overview/memory_map}
\include{tex/system_overview/interrupt_sources}
\include{tex/system_overview/brief_peripheral_info}

\include{tex/cpu_core_architecture/cpu_core_architecture}
\include{tex/cpu_core_architecture/registers}
\include{tex/cpu_core_architecture/instruction_set_architecture}
\include{tex/cpu_core_architecture/memory_organisation}
\include{tex/cpu_core_architecture/interrupts}

\include{tex/peripherals/peripherals}
\include{tex/peripherals/rom}
\include{tex/peripherals/ram}
\include{tex/peripherals/gpio}
\include{tex/peripherals/uart}
\include{tex/peripherals/int_driver}
\include{tex/peripherals/timer}
\include{tex/peripherals/systim}
\include{tex/peripherals/vga}
\include{tex/peripherals/ps2}

\include{tex/toolchain/toolchain}
\include{tex/toolchain/assembler}
\include{tex/toolchain/emulator}
\include{tex/toolchain/vbcc}
\include{tex/toolchain/usage}

\end{document}
